\documentclass{article}
\usepackage{amssymb}
\usepackage[margin=0.8in]{geometry}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{bookmark}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{property}[theorem]{Property}
\pagestyle{plain}

\usepackage{datetime}
\newdate{date}{22}{04}{2024}

\begin{document}
% \title{Math Meets Money}
\title{
 Math Meets Money \\ 
\begin{large} 
The intersection of combinatorics and finance for portfolio optimization and risk assessment
\end{large} }
\author{Blake Marterella}
\date{\displaydate{date}}

\maketitle

\section*{Abstract}

In this study we will explore the intersection of combinatorics and finance, specifically how graph theory can be used to optimize and assess risk in a stock portfolio. Using various theorem's and definitions in graph theory, we will analyze the composition of a portfolio to determine low risk, medium risk, and high risk holdings along with how the correlation between various stocks. Appliying mathematics to finance allows individuals to make more informed trades and mitigate risks by gaining insight to the mathematical signifigance of a stock price on any given day. A sample portfolio is introduced in this study, along with 4 years of historical stock data, but the concepts explored extend beyond this sample. The goal of this paper is to provide a theoretical framework for understanding portfolio optimization and risk assessment using advanced mathematical tools that can be applicable to any portfolio.

\tableofcontents

% [Introduction]
\section{Introduction}

\subsection{Background}

Mathematics has always been a powerful tool for humans to discover and describe seemingly complex patterns in the natural world. From the ancient days of arithemetic used to facilitate trade to the complex algorithms governing modern financial markets, mathematics has been an indispensable tool. The pivotal moment in the incorporation of mathematics into finance occured in 1654 when two great mathematicians, Blaise Pascal and Pierre de Fermat, developed probability theory to help predict the outcome of gambling [KD2010]. The ideas introduced in 1654 would evolve and help create the first automated trading system in 1949. Richard Donchian founded a commodity fund that used rule-based trading to execute trades based on moving averages in the market [LS2023]. These early pioneers set the stage for a methematical framework that would evolve into critical financial theories such as portfolio opimization, diversification, and risk management. In 2023, over 50\% of all trades in the US stock market were executed by algorithms [LS2023]. A critical tool in financal analysis is graph theory which can be used to represent the relationships between various stocks in a portfolio and help investors make more informed decisions. The evolution of graph theory in the financial markets represents an evolving journey from theoretical mathematics to practical financial solutions targeting complex issues from asset management to algorithmic trading.

\subsection{Interest}

The integration of combinatorics and finance, especially by the use of graph theory, is interesting for two main reasons. First, it provides a more comprehensive view to the correlations and diversification within a financial portfolio. Graph theory translates complex market dynamics into comprehensible, manageable models, allowing investors to visualize portfolio holdings in a new perspective and make informed decisions. Secondly, with the strategic application of graph theory, any individual's holdings can be optimized in such a way that investments remain not only sound but also resilient against market volatities. With the proper mathematical tools, any investor can have the power to make informed decisions just as large investment firms do.

\subsection{Motivation}

This study aims to democratize the complex mathematical strategies that find their place in financial markets so that more accessible knowledge and strategies are found for a more open audience. Though such advanced models have long been in use by large investment firms or hedge funds, it certainly would be of great value to put this kind of information in the hands of small investors. Through the examination of foundational concepts of graph theory and finance, this paper seeks to prepare the reader with the tools of understanding and engaging actively with their investment strategies.

The field of quantitative graph theory is rapidly expanding and encapsulating fields such as machine learning, graph algorithms, and quantitative analysis [MSFEYS2017]. This study serves as foundational and prerequisite knowledge to apply more complex analysis on financial data. By exploring the basics and providing  access to historical stock data, individuals can become powerful and successful independent traders.

% Let this flow into the definitions section

% [Main Section]
\section{Background}

Before exploring underlying patterns in historical stock data and applying quantitative graph theory. It is important to have an understanding of how a graph can be constructed to represent a stock portfolio. At our most simple defintion, each stock within our portfolio will be represented as a vertex and the relationship between each stock will be represented as an edge. This relationship can be many different factors such as edges: connecting companies in the same sector, edges connecting companies with similar market capitalization, etc. For the purpose of this study, each edge will be the correlation factor between stocks. The specifics on how to calculate this correlation factor will be explored in the definitions below and applied later in the study.

\subsection{Definitions}

% Spearman Rank Coefficent
\begin{definition}[Spearman Rank Coefficent]
\end{definition}

\[
\rho = 1 - \frac{6 \sum d_i^2}{n(n^2-1)}
\]

The Spearman Rank Coefficient, denoted as $\rho$ (rho), is a measure of the association between two variables. In the context of this study, the Spearman Rank Coefficient is used to measure the correlation between the closing price of 2 different stocks over a 4 year period. The formula above is used to calculate the correlation between each stock in our portfolio where $d_i$ is the difference between the closing price between 2 stocks and and $n$ is the number of days of historical data. The Spearman Rank Coefficient was used instead of the Pearson Correlation Coefficient because it can compute the correlation without the interference of outliers and the data does not need to be linear [JAJCDBRGZC2017]. The coefficent will created between stocks will be the edge between the two vertices in the graph and help users visualize how their portfolio is correlated. 

% Extremal Graph Theory

\begin{theorem}[Extremal Graph Theorem]
    Let $G$ be a graph with $n$ vertices and $m$ edges. Then, if $G$ does not contain a subgraph isomorphic to $K_{r+1}$, the complete graph on $r+1$ vertices, then $m \leq \frac{r}{2}(n-1)$.
\end{theorem}



% Greedy Coloring Algorithm

\begin{definition}[Welsch-Powwell Algorithm]
\end{definition}

Go into detail about the coloring alogirthm



Briefly define graph theory terms that will be used (vertices, edges, etc.). 


Convert the concept of a portfolio from a spreadsheet to a graph with vertices and edges. This concept is the central point of the paper.


\subsection{Data Collection and Processing}

For the purpose of this project, I took the time to develop a custom API that allows me to quickly export historical data for a given stock\footnote{Full documentation and a link to the source code of the custom API can be found on my website, linked in the references section.}. The API contains an endpoint that allows users to generate a CSV file for any given stock ticker and date range, providing 20 years of historical data. The benefit of developing a custom API is that it allows the developer full control over data-cleaning and preparation on the server side to enforce uniformity and ease-of-use. The fields we are going to use are as follows:

\begin{itemize}
    \item \bf{Date} - The date of the stock price. 
    \item \bf{Open} - The opening price of the stock on that date.
    \item \bf{High} - The highest price the stock reached on that date.
    \item \bf{Low} - The lowest price the stock reached on that date.
    \item \bf{Close} - The closing price of the stock on that date.
    \item \bf{Volume} - The number of shares traded on that date.
\end{itemize}

To enforce the concepts introduced in the paper, we will create a sample stock portfolio that contains 30 stocks from the DOW 30. The API described above is used to create a CSV file for each stock in the portfolio that contains data from the past 4 years\footnote{The number, 4 years of DOW 30 historical data, was selected because it accounts for various financial markets}. From here, the concepts of graph theory will be applied to inform the user of the risk and diversification of their portfolio and help build a better understanding of their holdings and potential techniques on how to diversify and mitigate risk.

% [Main Section]
\section{Portfolio Optimization}

Optimization and Diversification
Extremal Graph Theory

\begin{itemize}
    \item Theoretical Framework: Explain the extremal graph theorem.
    \item Application: Demonstrate how this theorem can predict the maximum or minimum number of edges under certain conditions, which translates to understanding the limits of diversification in a portfolio.
    \item Examples: Provide hypothetical examples of portfolios and how the theorem applies.
\end{itemize}


% [Main Section]
\section{Risk Assessment}
Coloring algorithms for risk assesment and management

\begin{itemize}
    \item Concept Introduction: Explain what graph coloring is and the significance of using different colors.
    \item Implementation: How coloring can be used to represent different levels of risk or different asset classes.
    \item Practical Example: A case study where coloring helps in decision-making about asset allocation or identifying over-concentrated sectors
\end{itemize}


% [Main Section]
\section{Holding Vizualization}

Correlation Graphs for Portfolio Holdings

\begin{itemize}
    \item Graph Construction: Discuss how to build a graph where vertices represent assets and edges represent correlations between returns.
    \item Analysis Techniques: Use threshold levels to add/remove edges or use weights to show the strength of correlations.
    \item Visualization: Include a section on how these graphs can visually represent portfolio diversification and the interconnections between assets.
\end{itemize}


\section{Conclusion}

\begin{itemize}
    \item Summary: Recap how graph theory enhances portfolio management.
    \item Future Directions: Suggest how further research could integrate other combinatorial techniques or advanced graph theory concepts.
    \item Open Problems: Pose any unresolved questions or potential for new research that your paper hints at.
\end{itemize}


\subsection{Future Development}


\bibliographystyle{alpha}
\begin{thebibliography}{99}
    % https://maa.org/sites/default/files/images/upload_library/46/NCTM/The-Pascal-Fermat-Correspondence.pdf
    \bibitem[KD2010]{Z}
    K. Devlin, \emph{The Pascal-Fermat Correspondance}, Mathematics Teacher, Vol. 103 \textbf{No. 8}, National Council of Teachers of Mathematics (2010), 580-582.
    % https://analyzingalpha.com/algorithmic-trading-history
    \bibitem[LS2023]{Z}
    L. Smigel, \emph{Algorithmic Trading History: A Breif Summary}, Analyzing Alpha (2023).
    % https://dl.acm.org/doi/abs/10.1016/j.ins.2017.08.009
    \bibitem[MSFEYS2017]{Z}
    M. Dehmer, S. Emmert-Streib, Y. Shi, \emph{Quantitative Graph Theory}, Information Sciences, Vol. 418 \textbf{Issue C}, Association for Computing Machinery Digital Library (2017).
    % https://evoq-eval.siam.org/Portals/0/Publications/SIURO/Volume%2010/Analysis_Equity_Markets_A_Graph_Theory_Approach.pdf
    \bibitem[JAJCDBRGZC2017]{Z}
    J. R. Abrams, J. C., D. B., R. G., Z. C., \emph{Analysis of Equity Markets: A Graph Theory Approach}, The University of Arizona, Department of Mathematics (2017).
    % https://factmyth.com/factoids/probability-theory-was-invented-to-solve-a-gambling-problem/
\end{thebibliography}

\end{document}